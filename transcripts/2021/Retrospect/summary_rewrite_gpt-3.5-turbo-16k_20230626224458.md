# Retrospect Capstone Project

## Introduction
The Retrospect Capstone project, developed by Team Textrix, is a full-stack tracing tool designed for debugging small distributed or monolithic applications. The project aims to provide developers with an efficient and user-friendly solution for debugging applications by recording browser events and back-end request data and presenting them in a single user interface.

## Contents

1. Introduction to Retrospect
2. Explanation of debugging process with Retrospect
3. Comparison with existing solutions
4. Detailed explanation of how Retrospect works
5. Design challenges associated with Retrospect and their solutions
6. Demos showcasing Retrospect's use cases
7. Installation and spin-up process for Retrospect

## Introduction to Retrospect
Retrospect is a full-stack tracing tool designed for debugging small distributed or monolithic applications. It records browser events and back-end request data and presents them in a single user interface. Developers can easily debug their applications by analyzing service traces and session replays in Retrospect.

## Debugging Process with Retrospect
The transcript describes a scenario where a user encounters an error while trying to check out on an e-commerce website. The developer, Bob, uses Retrospect to identify and debug the issue. He starts by searching for information related to the failed request using Retrospect's user interface. He analyzes the details and traces to identify the potential cause of the error. Throughout the process, Retrospect provides valuable information, such as the status codes, service traces, and session replays, to help Bob pinpoint the problem and find starting points for debugging.

## Comparison with Existing Solutions
The video highlights the limitations of traditional debugging methods and explains how Retrospect provides a more efficient and comprehensive solution. While existing solutions like log analysis and metrics provide valuable information, they do not offer the same level of traceability and context that Retrospect provides. Retrospect captures both front-end and back-end activities, reducing reliance on user cooperation and providing developers with essential tracing information to pinpoint potential issues.

## How Retrospect Works
Retrospect consists of six main components that work together to collect, connect, and select back-end traces and front-end events:
1. Client Agent: Gathers data from the instrumented application and uses the rrweb library to capture browser events. It attaches metadata to requests to connect recorded events with relevant back-end traces.
2. Server Agent: Utilizes the OpenTelemetry observability framework to create spans for HTTP requests and pass them through the microservices involved in the request. The Retrospect middleware attaches necessary metadata to connect each span to the user session.
3. API Server: Receives data from the agents, transforms it for easier querying, and sends it to the Cassandra database. It serves data to the UI by accessing the database using CQL queries.
4. Cassandra Database: Stores traces and events in separate tables with session IDs and chapter IDs for organization and traceability. Cassandra was chosen for its ability to handle high volumes of events and scalability.
5. Scheduled Task Server: Manages the database by purging data older than a specified number of days and ensures proper propagation of metadata to database spans.
6. User Interface: Provides a user-friendly interface for selecting specific events and traces. It allows users to search, filter, and export data, view span details, and navigate quickly to specific chapters or sessions.

## Design Challenges and Solutions
The video discusses the design challenges faced while building Retrospect and how they were overcome:
1. Connecting Events with Traces: Retrospect integrates the rrweb and OpenTelemetry libraries, which originally lacked a native way to connect front-end events with back-end traces. A custom span processor was developed to attach session IDs to events and traces, ensuring proper metadata propagation.
2. Storing Collected Data: Due to the high volume of data generated by user events, a database with emphasis on write speed was required. Cassandra was chosen for its proven ability to handle large event volumes and scalability.
3. Optimizing the User Interface: The goal was to create a user-friendly interface that provided necessary context for debugging. The UI was designed to balance simplicity and functionality, allowing users to search, filter, and navigate easily.

## Demos Showcasing Retrospect's Use Cases
The video includes two demos showcasing Retrospect in slightly different use cases. These demos provide a practical demonstration of how Retrospect can be used to debug and analyze application issues.

## Installation and Spin-Up Process
The transcript briefly mentions the installation and spin-up process for Retrospect, stating that it can be deployed using Docker and Docker Compose. Users can download the Docker Compose file and run the "docker-compose up" command to deploy Retrospect. The user interface can then be accessed on port 32100.

## ELI5 Summary
Retrospect is a debugging tool for small applications that records events happening both in the browser and on the server. It helps developers find and fix errors by showing the sequence of events leading up to a problem. Retrospect connects these events and presents them in an easy-to-use interface, making it easier to understand and debug complex issues.

## Tools Used
- Client Agent: Utilizes the rrweb library for capturing browser events.
- Server Agent: Uses the OpenTelemetry observability framework for creating spans.
- API Server: Handles data transformation and querying.
- Cassandra Database: Stores traces and events in separate tables.
- Scheduled Task Server: Manages database maintenance tasks.
- User Interface: Provides a user-friendly interface for selecting and analyzing events and traces.

[Cloud Services]
- N/A

[Languages]
- N/A

[Other Technologies]
- Docker: Used for deployment and containerization of Retrospect.
- Docker Compose: Used for managing Retrospect's deployment using Docker containers.
- Pivotal Tracker: Used for project management and task organization during development.