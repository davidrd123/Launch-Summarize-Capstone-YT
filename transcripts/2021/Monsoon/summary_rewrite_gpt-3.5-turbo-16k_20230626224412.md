# Capstone Project Presentation Analysis

## Introduction
The presentation introduces a coding Capstone project called Monsoon, developed by a remote team of four software engineers. Monsoon is an open-source serverless framework designed for browser-based load testing in the cloud. The project aims to provide companies with a simple and scalable solution to measure website and web application performance.

## ELI5 Summary
Monsoon is a tool that helps companies measure how well their websites and web applications perform when a lot of people use them at the same time. It does this by simulating a lot of people using the website or app and measures how fast it responds and if it can handle all the people. Monsoon is designed to be easy to use and can run in the cloud, which means it can handle a lot of test users without costing too much money.

## Tools Used
**Cloud Services:**
- Amazon Web Services (AWS): Used for deploying Monsoon and its components, including AWS Fargate, Elastic Container Service (ECS), S3 buckets, Lambda functions, and Amazon Timestream.

**Languages:**
- JavaScript: Used for writing the Monsoon framework and test scripts.
- TypeScript: Used alongside JavaScript for improved type safety and tooling support.

**Other Technologies:**
- Puppeteer: A browser-based testing library used for simulating user interactions and controlling headless Chrome instances in Monsoon.
- Selenium: A browser-based load testing tool explored but not used extensively due to resource limitations.
- Apache JMeter: A protocol-based load testing tool initially tried but found unfit for testing SPAs with extensive JavaScript code.
- Flood: A cloud-based browser-based load testing platform considered but found too costly for the project's needs.
- Victory: A React library used for modular charting and data visualization in the Weather Channel dashboard.
- Google's Puppeteer: A powerful browser-based testing library utilized by Monsoon to simulate user interactions on websites.
- AWS Fargate: A serverless compute engine used to run the Monsoon framework for load generation.
- Amazon Elastic Container Service (ECS): Used for container orchestration in the deployment of the Monsoon framework.
- S3: Amazon Simple Storage Service used for storing raw and transformed test data during the load testing process.
- Amazon Timestream: A time series database service used for storing and analyzing the aggregated test data generated by Monsoon.
- React: A JavaScript library used for building the Weather Channel dashboard's graphical user interface.
- AWS Lambda: A serverless compute service used for normalizing raw data, triggering the data processing pipeline, and aggregating test data before sending it to Amazon Timestream.

## Detailed Explanation

### Introduction
The presentation begins by expressing gratitude for the audience's attendance and introducing the project called Monsoon. Monsoon is a serverless framework designed specifically for browser-based load testing in the cloud. The presentation outlines the importance of load testing for companies and the value it brings to both business stakeholders and engineering teams.

### Case Study: Boost Health
The presentation uses a case study involving Boost Health, a startup in the health and wellness industry, to illustrate the need for load testing. Boost Health is planning a product launch that is expected to generate high levels of website traffic, and their engineers are tasked with ensuring their website can handle the load. The challenges of load testing single-page applications (SPAs), such as Boost Health's website, are highlighted.

### Previous Testing Tools
The presentation discusses the limitations of Apache JMeter, a well-established protocol-based load testing tool, for testing SPAs with extensive JavaScript code. The Boost engineers also explored Selenium, a browser-based load testing tool, but faced resource limitations when testing with multiple browser instances.

### Cloud-Based Load Testing Platforms
To overcome resource limitations, the Boost team explored cloud-based browser-based load testing platforms and found Flood, which could generate the required concurrent users but was deemed too costly for Boost's needs.

### Introducing Monsoon
The presentation introduces Monsoon as a cost-effective and cloud-based solution designed specifically for browser-based load testing. Monsoon leverages the Puppeteer library to simplify scripting user interactions in a streamlined and scalable manner. Monsoon's architecture consists of four key components: load generation, transformation, storage, and visualization.

### Monsoon's Architecture
The load generation component utilizes a Node.js app running on AWS Fargate and ECS for container orchestration. The Weather Station library, user scripts, and runner.js coordinate the creation and control of headless Chrome instances for simulating user actions.

The transformation component processes and aggregates the captured session metric data and stores it in a time series database optimized for ordered, timestamped data. The normalization script combines data points with different timestamps into a single data point to facilitate data aggregation.

The storage component holds the transformed data in an S3 bucket. The transformed data is organized by timestamp, end-user action, and Fargate instance name.

The visualization component is provided by the Weather Channel dashboard, a locally hosted React app. It queries the time series database and displays key performance metrics in near real time.

### Cost-Effectiveness of Monsoon
The presentation highlights the cost savings of using Monsoon compared to other options. While an hour-long test with 4000 users using Flood can cost around $100, Monsoon reduces the cost to approximately $20, with users only paying for the AWS infrastructure costs incurred during testing.

### Implementation Challenges
The presentation discusses two major implementation challenges faced during the development of Monsoon: metrics and timing.

The issue of metrics addresses the complexity of defining metrics for load tests that accurately measure performance. The presentation explains the decision to define response time as the difference between the starting and ending times of an end-user action.

Regarding timing, the presentation explains how the system handles the coordination and synchronization of data generation and processing across multiple containers. Several timing challenges were faced, including ensuring all containers start simultaneously, pausing the normalization script to check for new data every 15 seconds, and triggering the transfer of data from the S3 bucket to the time series database once every minute.

### Future Work
The presentation concludes by discussing future plans for Monsoon. These include rewriting certain parts of the project in a compiled language for improved performance, providing additional libraries to support load tests written for multiple testing tools, implementing a pre-check for load test scripts to prevent issues, and enabling the export of load test results to a CSV file for further analysis.

## Conclusion
In conclusion, Monsoon is an open-source serverless framework designed for browser-based load testing in the cloud. It addresses the challenges of load testing SPAs and provides insights into app performance in near real time. Monsoon's architecture consists of four key components: load generation, transformation, storage, and visualization. The project utilizes a range of tools and technologies, including AWS services like Fargate, ECS, S3, Lambda, and Timestream, as well as Puppeteer, Selenium, Victory, and React. Monsoon aims to be a cost-effective and easy-to-use solution for small to medium-sized companies seeking to assess the performance of their SPAs under load.