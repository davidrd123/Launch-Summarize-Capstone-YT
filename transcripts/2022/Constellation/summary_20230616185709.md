# Coding Capstone Project: Constellation

This markdown document provides a detailed analysis of a coding Capstone project video. The video introduces Constellation, an open-source serverless end-to-end framework designed to simplify the challenges of geographically distributed API load testing. The document presents an overview of the problem space, the architecture and design decisions, and future challenges and work. 

## Part 1: Problem Space Exploration

The video begins by explaining what load testing is and why it is important for developers. Load testing measures how a software program reacts to multiple concurrent user requests. It helps confirm system performance assumptions and provides insights into factors such as the maximum number of users the API can handle, the effect of traffic on response times, and the number of successful vs failed requests.

The video then introduces the two approaches to load testing: browser-based and protocol-based. Browser-based load testing simulates web traffic using virtual users that follow a script to interact with application elements in a browser. Protocol-based load testing, on the other hand, simulates loads to servers using the underlying network protocol without a browser. The video explains that Constellation focuses on protocol-based load testing and outlines the reasons for this choice, including the ability to run test scenarios without a user interface, lower resource usage, and suitability for explicitly testing APIs.

The video also highlights the challenge developers face in developing APIs, particularly when it comes to performance degradation and optimization. It introduces the concept of geo-distributed load testing, where the load is generated from distinct geographic locations to test API performance. The video mentions existing open-source load testing applications but points out the limitations of synchronous load generation across different geographic regions. It discusses premium cloud-based solutions that offer geo-distributed load generation capabilities but mention the trade-offs and limitations they come with.

## Tools Used

Cloud Services: AWS (Amazon Web Services), specifically AWS CDK (Cloud Development Kit), AWS Lambda, AWS TimeStream, S3, and SQlite.

Languages: JavaScript (Node.js)

Other Technologies: Excalidraw (for creating diagrams)

## Part 2: Architecture and Design Decisions

The video proceeds to explain the architecture and design decisions of Constellation. It describes Constellation as an infrastructure that runs from the command line and deploys several cloud components using AWS services. These components are split into home and remote regions specified by the user. The home region acts as the hub, responsible for orchestrating the test and storing data, while remote regions generate the actual test load.

The video highlights the design decisions made during the development of Constellation. It explains the decision to use virtual users, which are simulated as closely as possible to real users while operating efficiently. The video also discusses the different options for simulating virtual users in Node.js and explains the decision to use promises due to their optimization for concurrent I/O tasks, such as making HTTP requests.

Another design decision revolves around managing the large amount of data generated by load testing. The video introduces the concepts of ETL (Extract, Transform, Load) and ELT (Extract, Load, Transform) pipelines and explains the decision to adopt the ELT approach. With ELT, the complete data set is stored, allowing users to perform transformations as needed without loss of raw data.

## Part 3: Challenges and Future Work

The video concludes by discussing the challenges faced during the development of Constellation and mentioning future work and improvements. One challenge highlighted is minimizing deployment time, especially when dealing with multiple regions. The video explains the shift from synchronized deployment to parallel deployment, which significantly reduces the wait time before the test is executed.

Another challenge addressed is test synchronization when multiple load generators are involved. The video introduces the concept of the orchestrator, a central Lambda function responsible for synchronizing the execution of load generators across regions. It provides examples of scenarios and explains how the orchestrator ensures load generation starts simultaneously and data aggregators are ready to receive data.

The video concludes by mentioning potential future improvements, such as allowing users to perform data transformations before storing the data, implementing load generator and data aggregator in a more efficient language, and further optimizing the deployment process.

## ELI5 Summary

Constellation is a tool that helps developers test the performance of their APIs when multiple users access them at the same time. It does this by generating simulated users from different parts of the world and measuring how the API responds. It uses cloud services provided by AWS to deploy its infrastructure, and it uses JavaScript to simulate the users. Constellation also stores all the data generated during testing so developers can analyze it later. Developing Constellation had its challenges, such as coordinating the testing process across multiple regions, but the team found solutions to overcome them. There are still some improvements the team wants to make, such as allowing users to transform the data and optimizing the performance of certain components.

## Specific Tools Used

- Cloud Services: AWS CDK (Cloud Development Kit), AWS Lambda, AWS TimeStream, S3
- Languages: JavaScript (Node.js)
- Other Technologies: Excalidraw (diagram creation)

This analysis provides a detailed explanation of the coding Capstone project video. It covers the problem space exploration, architecture and design decisions, and future work and challenges.